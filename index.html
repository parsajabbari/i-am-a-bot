<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>I Am a Bot</title>
        
        <script src="https://www.google.com/recaptcha/enterprise.js?onload=onloadCallback&render=explicit" async defer></script>
        <script>
            var ready = false;
            var recaptcha;
            // make sure this still works if i move it after the load of the library
            function onloadCallback() {
                alert("onloadCallback")
                //ready = true;
                recaptcha = grecaptcha.enterprise.render('recaptcha', {'sitekey': '6LfWqkobAAAAAJAI5EquhODK_dnISKjFSAvaRRZu'})
            }
        </script>
        <!-- <script>
            grecaptcha.enterprise.ready(function() {
                grecaptcha.enterprise.execute('6LfWqkobAAAAAJAI5EquhODK_dnISKjFSAvaRRZu', {action: 'homepage'}).then(function(token) {
                   console.log('homepage token', token);
                });
            });
            </script> -->
            <script>
                function onSubmit(token) {
                alert("submitted!")
                console.log('button token:', token)
       }

       function clicked() {
           alert("clicked!")
       }

       function tokenGenerated(token) {
           alert("recaptcha complted!")
           console.log('recaptcha generated token:', token);
           console.log('resetting captcha')
           grecaptcha.enterprise.reset(recaptcha);
       }
            </script>
    </head>
    <body>
        <h1>reset</h1>
        <!-- <div class="g-recaptcha" data-sitekey="6LfWqkobAAAAAJAI5EquhODK_dnISKjFSAvaRRZu"></div>
          <br/>
        <button onclick="clicked()">Submit!</button> -->
        
            <!-- <div class="g-recaptcha" data-sitekey="6LfWqkobAAAAAJAI5EquhODK_dnISKjFSAvaRRZu" data-callback="tokenGenerated"></div> -->
            <div id="recaptcha" data-callback="tokenGenerated"></div>
            <br/>
            <input type="submit" onclick="tokenGenerated('asdf')" value="Submit">
         
    </body>
</html>